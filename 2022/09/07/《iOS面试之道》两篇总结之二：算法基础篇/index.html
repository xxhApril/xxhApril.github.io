<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"xxhapril.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.13.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"بحث...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="《iOS 面试之道》是故胤道长和唐巧 2018 年合著的针对面试一些问题的书，买之后虽有翻阅，但是始终未认真通读。现在想把书中对于我来说有价值的知识点，简短的总结一下。这里分两篇来说，这篇主要是介绍一些算法基础。">
<meta property="og:type" content="article">
<meta property="og:title" content="《iOS面试之道》两篇总结之二：算法基础篇">
<meta property="og:url" content="http://xxhapril.github.io/2022/09/07/%E3%80%8AiOS%E9%9D%A2%E8%AF%95%E4%B9%8B%E9%81%93%E3%80%8B%E4%B8%A4%E7%AF%87%E6%80%BB%E7%BB%93%E4%B9%8B%E4%BA%8C%EF%BC%9A%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AF%87/index.html">
<meta property="og:site_name" content="风和向日葵">
<meta property="og:description" content="《iOS 面试之道》是故胤道长和唐巧 2018 年合著的针对面试一些问题的书，买之后虽有翻阅，但是始终未认真通读。现在想把书中对于我来说有价值的知识点，简短的总结一下。这里分两篇来说，这篇主要是介绍一些算法基础。">
<meta property="og:locale">
<meta property="article:published_time" content="2022-09-07T00:00:00.000Z">
<meta property="article:modified_time" content="2022-09-08T11:56:19.417Z">
<meta property="article:author" content="Hsu">
<meta property="article:tag" content="面试">
<meta property="article:tag" content="iOS">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://xxhapril.github.io/2022/09/07/%E3%80%8AiOS%E9%9D%A2%E8%AF%95%E4%B9%8B%E9%81%93%E3%80%8B%E4%B8%A4%E7%AF%87%E6%80%BB%E7%BB%93%E4%B9%8B%E4%BA%8C%EF%BC%9A%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AF%87/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-Hans","comments":true,"permalink":"http://xxhapril.github.io/2022/09/07/%E3%80%8AiOS%E9%9D%A2%E8%AF%95%E4%B9%8B%E9%81%93%E3%80%8B%E4%B8%A4%E7%AF%87%E6%80%BB%E7%BB%93%E4%B9%8B%E4%BA%8C%EF%BC%9A%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AF%87/","path":"2022/09/07/《iOS面试之道》两篇总结之二：算法基础篇/","title":"《iOS面试之道》两篇总结之二：算法基础篇"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>《iOS面试之道》两篇总结之二：算法基础篇 | 风和向日葵</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="تشغيل شريط التصفح" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">风和向日葵</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">四月的博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          المحتويات
        </li>
        <li class="sidebar-nav-overview">
          عام
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-number">1.</span> <span class="nav-text"> 基本的数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">1.1.</span> <span class="nav-text"> 数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E5%85%B8%E5%92%8C%E9%9B%86%E5%90%88"><span class="nav-number">1.2.</span> <span class="nav-text"> 字典和集合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">1.3.</span> <span class="nav-text"> 字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%99%E5%87%BA%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A6%81%E6%B1%82%E5%85%B6%E6%8C%89%E7%85%A7%E5%8D%95%E8%AF%8D%E9%A1%BA%E5%BA%8F%E8%BF%9B%E8%A1%8C%E5%8F%8D%E8%BD%AC"><span class="nav-number">1.3.1.</span> <span class="nav-text"> 给出一个字符串，要求其按照单词顺序进行反转</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%93%BE%E8%A1%A8"><span class="nav-number">2.</span> <span class="nav-text"> 链表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%93%BE%E8%A1%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">2.1.</span> <span class="nav-text"> 链表的基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dummy-%E8%8A%82%E7%82%B9%E5%92%8C%E5%B0%BE%E6%8F%92%E5%8F%91"><span class="nav-number">2.2.</span> <span class="nav-text"> Dummy 节点和尾插发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E8%A1%8C%E6%8C%87%E9%92%88"><span class="nav-number">2.3.</span> <span class="nav-text"> 快行指针</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97"><span class="nav-number">3.</span> <span class="nav-text"> 栈和队列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%88%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">3.1.</span> <span class="nav-text"> 栈的基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%9F%E5%88%97%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">3.2.</span> <span class="nav-text"> 队列的基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E5%AE%9E%E6%88%98%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="nav-number">3.3.</span> <span class="nav-text"> 栈和队列实战面试题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">4.</span> <span class="nav-text"> 二叉树</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Hsu</p>
  <div class="site-description" itemprop="description">记录一些知识，记录一些生活，记录一些足迹</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">المقالات</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">التصنيفات</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">الوسوم</span>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://xxhapril.github.io/2022/09/07/%E3%80%8AiOS%E9%9D%A2%E8%AF%95%E4%B9%8B%E9%81%93%E3%80%8B%E4%B8%A4%E7%AF%87%E6%80%BB%E7%BB%93%E4%B9%8B%E4%BA%8C%EF%BC%9A%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AF%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hsu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风和向日葵">
      <meta itemprop="description" content="记录一些知识，记录一些生活，记录一些足迹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="《iOS面试之道》两篇总结之二：算法基础篇 | 风和向日葵">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          《iOS面试之道》两篇总结之二：算法基础篇
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2022-09-07 00:00:00" itemprop="dateCreated datePublished" datetime="2022-09-07T00:00:00Z">2022-09-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">عُدل في</span>
      <time title="عُدل: 2022-09-08 11:56:19" itemprop="dateModified" datetime="2022-09-08T11:56:19Z">2022-09-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">في</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/iOS%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">iOS开发</span></a>
        </span>
          ، 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="عدد الحروف في المقال">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">عدد الحروف في المقال: </span>
      <span>7.8k</span>
    </span>
    <span class="post-meta-item" title="زمن القراءة">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">زمن القراءة &asymp;</span>
      <span>7 دقائق.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>《iOS 面试之道》是故胤道长和唐巧 2018 年合著的针对面试一些问题的书，买之后虽有翻阅，但是始终未认真通读。现在想把书中对于我来说有价值的知识点，简短的总结一下。这里分两篇来说，这篇主要是介绍一些算法基础。</p>
<span id="more"></span>
<p><a href="">《iOS 面试之道》两篇总结之一：开发技能篇</a></p>
<p><a href="">《iOS 面试之道》两篇总结之二：算法基础篇</a></p>
<h2 id="基本的数据结构"><a class="markdownIt-Anchor" href="#基本的数据结构">#</a> 基本的数据结构</h2>
<h3 id="数组"><a class="markdownIt-Anchor" href="#数组">#</a> 数组</h3>
<ul>
<li>ContiguousArray<Element>: 效率最高，元素分配在连续的内存地址上。如果数组元素是值类型，Swift 自动调用这种实现。处理大量元素时，推荐这种方式。</li>
<li>Array<Element>: 自动桥接到 Objective-C 的 NSArray 上，如果元素时值类型，与 ContiguousArray 性能无差别。</li>
<li>ArraySlice<Element>: 它不是一个新的数组，而只是一个片段，在内存上与数组享用同一区域。</li>
</ul>
<p>下面用数组实现一个栈操作：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Stack</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> stack: [<span class="type">AnyObject</span>]</span><br><span class="line">    <span class="keyword">var</span> isEmpty: <span class="type">Bool</span> &#123; <span class="keyword">return</span> stack.isEmpty &#125;</span><br><span class="line">    <span class="keyword">var</span> peel: <span class="type">AnyObject</span>? &#123; <span class="keyword">return</span> stack.last &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        stack <span class="operator">=</span> [<span class="type">AnyObject</span>]()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">push</span>(<span class="params">object</span>: <span class="type">AnyObject</span>) &#123;</span><br><span class="line">        stack.append(object)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">pop</span>() -&gt; <span class="type">AnyObject</span>? &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="operator">!</span>isEmpty &#123;</span><br><span class="line">            <span class="keyword">return</span> stack.removeLast()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后强调一个操作： <code>reserveCapacity()</code> 。用于为原数组预留空间，防止数组数组添加或删除元素时反复申请内存空间或创建新数组。再别在数组创建或者  <code>removeAll()</code>  时，对整段代码起到性能提升的作用。</p>
<h3 id="字典和集合"><a class="markdownIt-Anchor" href="#字典和集合">#</a> 字典和集合</h3>
<p>一般字典和集合的 Key 都要遵循 Hashable 协议，自定义的类型作为 Key 实现 Hashable。这里说下集合的一些特点:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> primeNums: <span class="type">Set</span> <span class="operator">=</span> [<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>]</span><br><span class="line"><span class="keyword">let</span> oddNums: <span class="type">Set</span> <span class="operator">=</span> [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="comment">/// 交集、并集、差集</span></span><br><span class="line"><span class="keyword">let</span> primeAndOddNum <span class="operator">=</span> primeNums.intersection(oddNums)</span><br><span class="line"><span class="keyword">var</span> orNums <span class="operator">=</span> primeNums</span><br><span class="line">orNums.formUnion(oddNums)</span><br><span class="line"><span class="keyword">let</span> primeNotOddNum <span class="operator">=</span> primeNums.subtracting(oddNums)</span><br></pre></td></tr></table></figure>
<p>这里一个字典的例子非常有意思：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 用字典和高阶函数计算字符串中每个字符出现的频率。</span></span><br><span class="line"><span class="comment">* 结果为 [&quot;l&quot;: 2, &quot;h&quot;: 1, &quot;o&quot;: 1, &quot;e&quot;: 1]</span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line"><span class="type">Dictionary</span>(<span class="string">&quot;hello&quot;</span>.map &#123; (<span class="variable">$0</span>, <span class="number">1</span>)&#125;, uniquingKeysWith: <span class="operator">+</span>)</span><br></pre></td></tr></table></figure>
<p>算法题： 给出一个整型数组和一个目标值，判断数组中是否有两个数之和等于目标值。</p>
<p>可利用目标减去差值的方式，时间复杂度为 <em>O(n)</em>：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">twoNum</span>(<span class="params">nums</span>: [<span class="type">Int</span>], <span class="keyword">_</span> <span class="params">target</span>: <span class="type">Int</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">set</span> <span class="operator">=</span> <span class="type">Set</span>&lt;<span class="type">Int</span>&gt;()</span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">set</span>.contains(target <span class="operator">-</span> num) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span>.insert(num)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果修改这个题：给出一个整型数组有且仅有两个数之和等于目标值，求这两个数在数组中的序号。</p>
<p>这里使用字典记录序号，时间复杂度依然为  <em>O(n)</em>：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">twoNum</span>(<span class="params">nums</span>: [<span class="type">Int</span>], <span class="keyword">_</span> <span class="params">target</span>: <span class="type">Int</span>) -&gt; [<span class="type">Int</span>] &#123;</span><br><span class="line">    <span class="keyword">var</span> dic <span class="operator">=</span> [<span class="type">Int</span>: <span class="type">Int</span>]()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (index, value) <span class="keyword">in</span> nums.enumerated() &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> lastIndex <span class="operator">=</span> dic[target <span class="operator">-</span> value] &#123;</span><br><span class="line">            <span class="keyword">return</span> [index, lastIndex]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            dic[value] <span class="operator">=</span> index</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="字符串"><a class="markdownIt-Anchor" href="#字符串">#</a> 字符串</h3>
<h4 id="给出一个字符串要求其按照单词顺序进行反转"><a class="markdownIt-Anchor" href="#给出一个字符串要求其按照单词顺序进行反转">#</a> 给出一个字符串，要求其按照单词顺序进行反转</h4>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">viewDidLoad</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    <span class="built_in">print</span>(reverseWords(s: <span class="string">&quot;the sky     is      blue&quot;</span>) <span class="operator">??</span> <span class="string">&quot;None&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// 按照单词反转字符串</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">func</span> <span class="title function_">reverseWords</span>(<span class="params">s</span>: <span class="type">String</span>?) -&gt; <span class="type">String</span>? &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> s <span class="operator">=</span> s <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> chars <span class="operator">=</span> s.map &#123; <span class="variable">$0</span> &#125;</span><br><span class="line">    reverse(<span class="operator">&amp;</span>chars, <span class="number">0</span>, chars.count <span class="operator">-</span> <span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(chars)</span><br><span class="line">    <span class="keyword">var</span> start <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span> <span class="operator">..&lt;</span> chars.count &#123;</span><br><span class="line">        <span class="keyword">if</span> i <span class="operator">==</span> chars.count <span class="operator">-</span> <span class="number">1</span> <span class="operator">||</span> chars[i <span class="operator">+</span> <span class="number">1</span>] <span class="operator">==</span> <span class="string">&quot; &quot;</span> &#123;</span><br><span class="line">            reverse(<span class="operator">&amp;</span>chars, start, i)</span><br><span class="line">            start <span class="operator">=</span> i <span class="operator">+</span> <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">String</span>(chars)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// 反转一个字符串</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">func</span> <span class="title function_">reverse</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">_</span> <span class="params">chars</span>: <span class="keyword">inout</span> [<span class="type">T</span>], <span class="keyword">_</span> <span class="params">start</span>: <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">end</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> start <span class="operator">=</span> start</span><br><span class="line">    <span class="keyword">var</span> end <span class="operator">=</span> end</span><br><span class="line">    <span class="keyword">while</span> start <span class="operator">&lt;</span> end &#123;</span><br><span class="line">        <span class="built_in">swap</span>(<span class="operator">&amp;</span>chars, start, end)</span><br><span class="line">        start <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">        end <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// 交换两个位置</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">func</span> <span class="title function_">swap</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">_</span> <span class="params">chars</span>: <span class="keyword">inout</span> [<span class="type">T</span>], <span class="keyword">_</span> <span class="params">p</span>: <span class="type">Int</span>, <span class="keyword">_</span> <span class="params">q</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">    (chars[p], chars[q]) <span class="operator">=</span> (chars[q], chars[p])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&quot;e&quot;</span>, <span class="string">&quot;u&quot;</span>, <span class="string">&quot;l&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot;s&quot;</span>, <span class="string">&quot;i&quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot;y&quot;</span>, <span class="string">&quot;k&quot;</span>, <span class="string">&quot;s&quot;</span>, <span class="string">&quot; &quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;h&quot;</span>, <span class="string">&quot;t&quot;</span>]</span><br><span class="line"><span class="type">Optional</span>(<span class="string">&quot;blue      is     sky the&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="链表"><a class="markdownIt-Anchor" href="#链表">#</a> 链表</h2>
<h3 id="链表的基本概念"><a class="markdownIt-Anchor" href="#链表的基本概念">#</a> 链表的基本概念</h3>
<p>这里不再赘述链表基本概念，直接实现链表结点：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// 链表节点</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> val: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> next: <span class="type">ListNode</span>?</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(<span class="keyword">_</span> <span class="params">val</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.val <span class="operator">=</span> val</span><br><span class="line">        <span class="keyword">self</span>.next <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// 通过节点，实现链表</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">List</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> head: <span class="type">ListNode</span>?</span><br><span class="line">    <span class="keyword">var</span> tail: <span class="type">ListNode</span>?</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 尾插发</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">appendToTail</span>(<span class="keyword">_</span> <span class="params">val</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> tail <span class="operator">==</span> <span class="literal">nil</span> &#123;</span><br><span class="line">            tail <span class="operator">=</span> <span class="type">ListNode</span>(val)</span><br><span class="line">            head <span class="operator">=</span> tail</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tail<span class="operator">?</span>.next <span class="operator">=</span> <span class="type">ListNode</span>(val)</span><br><span class="line">            tail <span class="operator">=</span> tail<span class="operator">?</span>.next</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 头插法</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">appendToHead</span>(<span class="keyword">_</span> <span class="params">val</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> head <span class="operator">==</span> <span class="literal">nil</span> &#123;</span><br><span class="line">            head <span class="operator">=</span> <span class="type">ListNode</span>(val)</span><br><span class="line">            tail <span class="operator">=</span> head</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> temp <span class="operator">=</span> <span class="type">ListNode</span>(val)</span><br><span class="line">            temp.next <span class="operator">=</span> head</span><br><span class="line">            head <span class="operator">=</span> temp</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="dummy-节点和尾插发"><a class="markdownIt-Anchor" href="#dummy-节点和尾插发">#</a> Dummy 节点和尾插发</h3>
<p>给出一个链表和一个值 x，要求将链表中所有小于 x 的值放左边，所有大于 x 的放右边，并且原始链表的节点顺序不变。</p>
<ul>
<li>Dummy 节点作用：它的作用就是作为一个虚拟的头结点。因为我们不知道要返回的新链表的节点是哪一个，甚至不知道是否存在。因为 Dummy 节点可以巧妙涵盖各种情况。可以用 dummy.next 方便的返回最终需要的头节点。</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">partition</span>(<span class="keyword">_</span> <span class="params">head</span>: <span class="type">ListNode</span>?, <span class="keyword">_</span> <span class="params">x</span>: <span class="type">Int</span>) -&gt; <span class="type">ListNode</span>? &#123;</span><br><span class="line">    <span class="comment">// 引入 Dummy 节点</span></span><br><span class="line">    <span class="keyword">let</span> prevDummy <span class="operator">=</span> <span class="type">ListNode</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">let</span> postDummy <span class="operator">=</span> <span class="type">ListNode</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">var</span> prev <span class="operator">=</span> prevDummy, post <span class="operator">=</span> postDummy</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> node <span class="operator">=</span> head</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 采用尾插发处理左边和右边</span></span><br><span class="line">    <span class="keyword">while</span> node <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> node<span class="operator">!</span>.val <span class="operator">&lt;</span> x &#123;</span><br><span class="line">            prev.next <span class="operator">=</span> node</span><br><span class="line">            prev <span class="operator">=</span> node<span class="operator">!</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            post.next <span class="operator">=</span> node<span class="operator">!</span></span><br><span class="line">            post <span class="operator">=</span> node<span class="operator">!</span></span><br><span class="line">        &#125;</span><br><span class="line">        node <span class="operator">=</span> node<span class="operator">!</span>.next</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 防止构成换</span></span><br><span class="line">    post.next <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line">    <span class="comment">// 左右拼接</span></span><br><span class="line">    prev.next <span class="operator">=</span> postDummy.next</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> prevDummy.next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="快行指针"><a class="markdownIt-Anchor" href="#快行指针">#</a> 快行指针</h3>
<p>快行指针用来检测链表是否有环。可以简单理解为：两个指针同时访问链表，但是移动速度不一样，如果存在环，跑的快的总有机会再次遇到跑的慢的。如果跑的快的到头了，还没见到跑的慢的，则不存在环，就好像操场跑步一样。代码如下：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">hadCycle</span>(<span class="keyword">_</span> <span class="params">head</span>: <span class="type">ListNode</span>?) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> slow <span class="operator">=</span> head</span><br><span class="line">    <span class="keyword">var</span> faster <span class="operator">=</span> head</span><br><span class="line">    <span class="keyword">while</span> faster <span class="operator">!=</span> <span class="literal">nil</span> <span class="operator">&amp;&amp;</span> faster<span class="operator">?</span>.next <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">        slow <span class="operator">=</span> slow<span class="operator">?</span>.next</span><br><span class="line">        faster <span class="operator">=</span> faster<span class="operator">?</span>.next<span class="operator">?</span>.next</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> slow <span class="operator">===</span> faster &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意这里用了三个等号。表示恒等。</p>
</blockquote>
<p>下面使用快行指针解决一个问题：</p>
<p>删除链表中倒数第 n 个节点，例如：1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5，n = 2，返回 1 -&gt; 2 -&gt; 3 -&gt; 5。给定 n 的长度小于等于链表的长度。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">removeNthFromEnd</span>(<span class="params">head</span>: <span class="type">ListNode</span>?, <span class="keyword">_</span> <span class="params">n</span>: <span class="type">Int</span>) -&gt; <span class="type">ListNode</span>? &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> head <span class="operator">=</span> head <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line">    <span class="keyword">let</span> dummy <span class="operator">=</span> <span class="type">ListNode</span>(<span class="number">0</span>)</span><br><span class="line">    dummy.next <span class="operator">=</span> head</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> prev: <span class="type">ListNode</span>? <span class="operator">=</span> dummy</span><br><span class="line">    <span class="keyword">var</span> post: <span class="type">ListNode</span>? <span class="operator">=</span> dummy</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 设置后一个节点的初始位置</span></span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">_</span> <span class="keyword">in</span> <span class="number">0</span> <span class="operator">..&lt;</span> n &#123;</span><br><span class="line">        <span class="keyword">if</span> post <span class="operator">==</span> <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">        post <span class="operator">=</span> post<span class="operator">!</span>.next</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 同时移动前后节点</span></span><br><span class="line">    <span class="keyword">while</span> post <span class="operator">!=</span> <span class="literal">nil</span> <span class="operator">&amp;&amp;</span> post<span class="operator">?</span>.next <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">        prev <span class="operator">=</span> prev<span class="operator">!</span>.next</span><br><span class="line">        post <span class="operator">=</span> post<span class="operator">!</span>.next</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 删除节点</span></span><br><span class="line">    prev<span class="operator">!</span>.next <span class="operator">=</span> prev<span class="operator">!</span>.next<span class="operator">!</span>.next</span><br><span class="line">    <span class="keyword">return</span> dummy.next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="栈和队列"><a class="markdownIt-Anchor" href="#栈和队列">#</a> 栈和队列</h2>
<h3 id="栈的基本概念"><a class="markdownIt-Anchor" href="#栈的基本概念">#</a> 栈的基本概念</h3>
<ul>
<li>栈是后进先出的结构，即 FILO，first in last out。</li>
<li>如果 iOS 项目需要添加撤销操作，栈是首选的数据结构。使用数组实现更加方便。</li>
<li>无论面试还是写 App。主要关注栈的几个基本操作：push，pop，isEmpty，peek（栈顶元素），和 size。</li>
</ul>
<p>下面定义一个栈：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Stack</span> &#123;</span><br><span class="line">    <span class="comment">/// 持有的元素类型</span></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Element</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// 是否为空</span></span><br><span class="line">    <span class="keyword">var</span> isEmpty: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="comment">/// 栈的大小</span></span><br><span class="line">    <span class="keyword">var</span> size: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="comment">/// 栈顶元素</span></span><br><span class="line">    <span class="keyword">var</span> peek: <span class="type">Element</span>? &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">///进栈</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">push</span>(<span class="keyword">_</span> <span class="params">newElement</span>: <span class="type">Element</span>)</span><br><span class="line">    <span class="comment">/// 出栈</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">pop</span>() -&gt; <span class="type">Element</span>?</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">IntergerStack</span>: <span class="title class_">Stack</span> &#123;</span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Element</span> <span class="operator">=</span> <span class="type">Int</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> isEmpty: <span class="type">Bool</span> &#123; <span class="keyword">return</span> stacks.isEmpty &#125;</span><br><span class="line">    <span class="keyword">var</span> size: <span class="type">Int</span> &#123; <span class="keyword">return</span> stacks.count &#125;</span><br><span class="line">    <span class="keyword">var</span> peek: <span class="type">Int</span>? &#123; <span class="keyword">return</span> stacks.last &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> stacks <span class="operator">=</span> [<span class="type">Element</span>]()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">push</span>(<span class="keyword">_</span> <span class="params">newElement</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        stacks.append(newElement)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">pop</span>() -&gt; <span class="type">Int</span>? &#123;</span><br><span class="line">        <span class="keyword">return</span> stacks.popLast()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="队列的基本概念"><a class="markdownIt-Anchor" href="#队列的基本概念">#</a> 队列的基本概念</h3>
<ul>
<li>队列是先进先出的结构，即 FIFO，first in first out。</li>
<li>iOS 开发中的多线程 GCD 以及 NSOperation 都是基于队列实现的。</li>
<li>关于队列只需要关注 enqueue、dequeue、isEmpty、peek 和 size 等操作。</li>
</ul>
<p>下面定义一个队列：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line">    <span class="comment">/// 持有的元素类型</span></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Element</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// 是否为空</span></span><br><span class="line">    <span class="keyword">var</span> isEmpty: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="comment">/// 队列的大小</span></span><br><span class="line">    <span class="keyword">var</span> size: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="comment">/// 队首元素</span></span><br><span class="line">    <span class="keyword">var</span> peek: <span class="type">Element</span>? &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// 入队</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">enqueue</span>(<span class="keyword">_</span> <span class="params">newElement</span>: <span class="type">Element</span>)</span><br><span class="line">    <span class="comment">/// 出队</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">dequeue</span>() -&gt; <span class="type">Element</span>?</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">IntegerQueue</span>: <span class="title class_">Queue</span> &#123;</span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Element</span> <span class="operator">=</span> <span class="type">Int</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> isEmpty: <span class="type">Bool</span> &#123; <span class="keyword">return</span> left.isEmpty <span class="operator">&amp;&amp;</span> right.isEmpty &#125;</span><br><span class="line">    <span class="keyword">var</span> size: <span class="type">Int</span> &#123; <span class="keyword">return</span> left.count <span class="operator">+</span> right.count &#125;</span><br><span class="line">    <span class="keyword">var</span> peek: <span class="type">Int</span>? &#123; <span class="keyword">return</span> left.isEmpty <span class="operator">?</span> right.first : left.last &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> left <span class="operator">=</span> [<span class="type">Element</span>]()</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> right <span class="operator">=</span> [<span class="type">Element</span>]()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">enqueue</span>(<span class="keyword">_</span> <span class="params">newElement</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        right.append(newElement)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">dequeue</span>() -&gt; <span class="type">Int</span>? &#123;</span><br><span class="line">        <span class="keyword">if</span> left.isEmpty &#123;</span><br><span class="line">            left <span class="operator">=</span> right.reversed()</span><br><span class="line">            right.removeAll()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left.popLast()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="栈和队列实战面试题"><a class="markdownIt-Anchor" href="#栈和队列实战面试题">#</a> 栈和队列实战面试题</h3>
<p>给出一个文件的绝对路径，要求将其简化。如：</p>
<ul>
<li>路径是 “/home/”，简化后为 “/home”。</li>
<li>路径是 “/a/./…/…/c”，简化后为 “/c”。</li>
<li></li>
</ul>
<p>根据常识，有以下规则：</p>
<ul>
<li>“.” 代表当前路径。比如 “/a/.” 实际上就是 “/a”，无论输入多少个 “.”(除了 2 个)，都返回当前目录。</li>
<li>“…” 代表上一级目录，比如 “a/b/…” 实际就是 “/a”。</li>
</ul>
<p>实现代码如下：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">simplifyPath</span>(<span class="params">path</span>: <span class="type">String</span>) -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="comment">// 用数组来实现栈的功能</span></span><br><span class="line">    <span class="keyword">var</span> pathStack <span class="operator">=</span> [<span class="type">String</span>]()</span><br><span class="line">    <span class="comment">// 拆分原路径</span></span><br><span class="line">    <span class="keyword">let</span> paths <span class="operator">=</span> path.components(separatedBy: <span class="string">&quot;/&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> path <span class="keyword">in</span> paths &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;path = <span class="subst">\(path)</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">guard</span> path <span class="operator">!=</span> <span class="string">&quot;.&quot;</span> <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 对 .. 使用 pop 操作</span></span><br><span class="line">        <span class="keyword">if</span> path <span class="operator">==</span> <span class="string">&quot;..&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> pathStack.count <span class="operator">&gt;</span> <span class="number">0</span> &#123;</span><br><span class="line">                pathStack.removeLast()</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 数组为空，上来就是 .. 则不操作</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> path <span class="operator">!=</span> <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">            pathStack.append(path)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 空路径，不用处理</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;stacks = <span class="subst">\(pathStack)</span>&quot;</span>)</span><br><span class="line">    <span class="comment">/// 将栈中的内容转化为优化后的新路径</span></span><br><span class="line">    <span class="keyword">let</span> res <span class="operator">=</span> pathStack.reduce(<span class="string">&quot;&quot;</span>) &#123; totol, dir <span class="keyword">in</span></span><br><span class="line">        <span class="string">&quot;<span class="subst">\(totol)</span>/<span class="subst">\(dir)</span>&quot;</span>&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 注意空路径的结果是 /</span></span><br><span class="line">    <span class="keyword">return</span> res.isEmpty <span class="operator">?</span> <span class="string">&quot;/&quot;</span> : res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="二叉树"><a class="markdownIt-Anchor" href="#二叉树">#</a> 二叉树</h2>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag"># 面试</a>
              <a href="/tags/iOS/" rel="tag"># iOS</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/09/07/%E3%80%8AiOS%E9%9D%A2%E8%AF%95%E4%B9%8B%E9%81%93%E3%80%8B%E4%B8%A4%E7%AF%87%E6%80%BB%E7%BB%93%E4%B9%8B%E4%B8%80%EF%BC%9A%E4%B8%93%E4%B8%9A%E9%97%AE%E7%AD%94%E7%AF%87/" rel="prev" title="《iOS面试之道》两篇总结之一：开发技能篇">
                  <i class="fa fa-chevron-left"></i> 《iOS面试之道》两篇总结之一：开发技能篇
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/09/08/%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96/" rel="next" title="隐私协议">
                  隐私协议 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hsu</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="مُجمل عدد الحروف">27k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="مُجمل زمن القراءة">24 دقائق.</span>
  </span>
</div>
  <div class="powered-by">تطبيق الموقع <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
